# send the client a "request timed out" if the body is not loaded by this time. Default 60.
client_body_timeout 10;

# If the client stops reading data, free up the stale client connection after this much time. Default 60.
send_timeout 2;

# Hide nginx version information
server_tokens off;

# Default type is plain text, need to make it html so that any cache hits
# by nginx are served as html as well
default_type  text/html;

# With full unicode support
charset UTF-8;

# Size of the client request body, specified in the “Content-Length” request header field.
client_max_body_size 50M;

# essential for linux, optmized to serve many clients with each thread
use epoll;

# Sendfile copies data between one FD and other from within the kernel. 
# More efficient than read() + write(), since the requires transferring data to and from the user space.
sendfile on; 
 
# Tcp_nopush causes nginx to attempt to send its HTTP response head in one packet, 
# instead of using partial frames. This is useful for prepending headers before calling sendfile, 
# or for throughput optimization.
tcp_nopush on;
 
# don't buffer data-sends (disable Nagle algorithm). Good for sending frequent small bursts of data in real time.
tcp_nodelay on; 
 
# Timeout for keep-alive connections. Server will close connections after this time.
keepalive_timeout 30;

# allow the server to close the connection after a client stops responding. Frees up socket-associated memory.
reset_timedout_connection on;